<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>How to Set Up v2rayA | LiftCtrl</title><meta name=keywords content><meta name=description content="This guide explains how to deploy v2rayA + Docker + Docker Compose for managing v2ray proxies, offering a user-friendly web UI to manage and configure your v2ray server. This setup is ideal for users looking for an easy and efficient way to deploy v2ray servers with Docker, ensuring a scalable and maintainable environment using Docker Compose.

1. Preparation
1.1 Docker
Install Docker:
sudo pacman -S docker
Add your user to the Docker group:"><meta name=author content="Xian Zhan Yang"><link rel=canonical href=https://liftctrl.github.io/posts/2025-11-30-how-to-set-up-v2raya/><link crossorigin=anonymous href=/assets/css/stylesheet.5695715c022bbb5d41ba4755a440a0cabb52ac3d3747a403e9e827e64777d9a2.css integrity="sha256-VpVxXAIru11BukdVpECgyrtSrD03R6QD6egn5kd32aI=" rel="preload stylesheet" as=style><link rel=icon href=https://liftctrl.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://liftctrl.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://liftctrl.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://liftctrl.github.io/apple-touch-icon.png><link rel=mask-icon href=https://liftctrl.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://liftctrl.github.io/posts/2025-11-30-how-to-set-up-v2raya/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://liftctrl.github.io/posts/2025-11-30-how-to-set-up-v2raya/"><meta property="og:site_name" content="LiftCtrl"><meta property="og:title" content="How to Set Up v2rayA"><meta property="og:description" content="This guide explains how to deploy v2rayA + Docker + Docker Compose for managing v2ray proxies, offering a user-friendly web UI to manage and configure your v2ray server. This setup is ideal for users looking for an easy and efficient way to deploy v2ray servers with Docker, ensuring a scalable and maintainable environment using Docker Compose.
1. Preparation 1.1 Docker Install Docker:
sudo pacman -S docker Add your user to the Docker group:"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-11-30T15:08:23+08:00"><meta property="article:modified_time" content="2025-11-30T15:08:23+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="How to Set Up v2rayA"><meta name=twitter:description content="This guide explains how to deploy v2rayA + Docker + Docker Compose for managing v2ray proxies, offering a user-friendly web UI to manage and configure your v2ray server. This setup is ideal for users looking for an easy and efficient way to deploy v2ray servers with Docker, ensuring a scalable and maintainable environment using Docker Compose.

1. Preparation
1.1 Docker
Install Docker:
sudo pacman -S docker
Add your user to the Docker group:"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://liftctrl.github.io/posts/"},{"@type":"ListItem","position":2,"name":"How to Set Up v2rayA","item":"https://liftctrl.github.io/posts/2025-11-30-how-to-set-up-v2raya/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"How to Set Up v2rayA","name":"How to Set Up v2rayA","description":"This guide explains how to deploy v2rayA + Docker + Docker Compose for managing v2ray proxies, offering a user-friendly web UI to manage and configure your v2ray server. This setup is ideal for users looking for an easy and efficient way to deploy v2ray servers with Docker, ensuring a scalable and maintainable environment using Docker Compose.\n1. Preparation 1.1 Docker Install Docker:\nsudo pacman -S docker Add your user to the Docker group:\n","keywords":[],"articleBody":"This guide explains how to deploy v2rayA + Docker + Docker Compose for managing v2ray proxies, offering a user-friendly web UI to manage and configure your v2ray server. This setup is ideal for users looking for an easy and efficient way to deploy v2ray servers with Docker, ensuring a scalable and maintainable environment using Docker Compose.\n1. Preparation 1.1 Docker Install Docker:\nsudo pacman -S docker Add your user to the Docker group:\nsudo usermod -aG docker $(whoami) Create Docker config directory:\nsudo mkdir -p /etc/docker Create /etc/docker/daemon.json to use a registry mirror:\ncat \u003c /dev/null { \"registry-mirrors\": [ \"https://dockerproxy.net\" ] } EOF Enable and start Docker:\nsudo systemctl daemon-reload sudo systemctl enable --now docker Verify Docker:\ndocker ps ðŸ’¡ Tip : Adding your user to the Docker group avoids using sudo every time. ðŸ’¡ Tip : Use registry mirrors to speed up image downloads.\n1.2 Docker Compose Install Docker Compose:\nsudo pacman -S docker-compose Verify installation:\ndocker-compose --version ðŸ’¡ Tip : Docker Compose helps manage multi-container applications easily.\n2. v2rayA 2.1 Prepare Directories Create project directories:\nmkdir -p software/v2raya/data Create the Docker Compose file:\nnvim software/v2raya/docker-compose.yml 2.2 Docker Compose Configuration Example docker-compose.yml:\nservices: v2raya: image: mzz2017/v2raya:v2.2.5.8 restart: always privileged: true network_mode: host container_name: v2raya environment: V2RAYA_LOG_FILE: /tmp/v2raya.log V2RAYA_V2RAY_BIN: /usr/local/bin/xray V2RAYA_NFTABLES_SUPPORT: off IPTABLES_MODE: legacy volumes: - /lib/modules:/lib/modules:ro - /etc/resolv.conf:/etc/resolv.conf - $PWD/data:/etc/v2raya - /etc/timezone:/etc/timezone:ro - /etc/localtime:/etc/localtime:ro 2.3 Start the Container cd software/v2raya docker-compose up -d Verify:\ndocker ps | grep v2raya ðŸ’¡ Tip : Ensure $PWD/data path matches your Docker Compose setup. ðŸ’¡ Tip : Use docker logs v2raya to check container status if issues occur.\n3. v2rayA Web UI Configuration Access v2rayA Web UI:\nOpen your browser and go to: http://localhost:2017 3.1 Modify Settings Go to Settings â†’ GFWList Change from off to on (Proxy only GFWList) ðŸ’¡ Tip : This ensures only traffic to blocked sites is proxied.\n3.2 Add a VLESS Node To add a VLESS node corresponding to your v2ray server:\nClick Create â†’ VLESS Fill in the details from your v2ray server: Address: yourdomain.com Port: 443 UUID: your_uuid (generated in server setup) Encryption: environment Transport: WebSocket WebSocket Path: /ws/8f3a7b2c9d (as configured on server) TLS: Enabled SNI / Host: yourdomain.com Save the node. Test the node inside v2rayA to ensure it connects successfully. ðŸ’¡ Tip : Use a randomized WebSocket path for security and stealth. ðŸ’¡ Tip : Always verify UUID and path match exactly with the server configuration.\n3.3 Configure Browser Proxy (Firefox Example) HTTP Proxy: 127.0.0.1:20171 SOCKS5 Proxy: 127.0.0.1:20170 ðŸ’¡ Tip : Make sure the browser is using the correct proxy to route traffic through v2rayA.\n4. Security and Optimization Tips Always use strong passwords and secure the Docker socket if exposing remotely. Keep Docker and v2rayA up to date: sudo pacman -Syu Limit container privileges if not using privileged: true. Regularly back up your v2rayA data directory. 5. Backup \u0026 Rollback 5.1 Backup Important Configurations sudo mkdir -p /root/backup/v2raya sudo cp -r software/v2raya/data /root/backup/v2raya/data.bak 5.2 Restore from Backup sudo rm -rf software/v2raya/data sudo cp -r /root/backup/v2raya/data.bak software/v2raya/data docker-compose restart ðŸ’¡ Tip : Always stop containers before restoring backup. ðŸ’¡ Tip : Keep multiple backup versions for safety.\n6. Troubleshooting 6.1 Container Not Starting Check container logs:\ndocker logs v2raya Common causes:\nVolume path errors. Docker network issues. Image not pulled correctly. 6.2 Docker Compose Issues Check Docker Compose syntax:\ndocker-compose config Fix errors and restart:\ndocker-compose down docker-compose up -d 6.3 Web UI Connection Fails Ensure the container is running (docker ps). Verify localhost:2017 is accessible. Confirm nodes are correctly configured in Web UI. Check browser proxy settings (HTTP: 20171, SOCKS5: 20170). ðŸ’¡ Tip : Use docker logs v2raya to debug any connection issues in real time.\n","wordCount":"618","inLanguage":"en","datePublished":"2025-11-30T15:08:23+08:00","dateModified":"2025-11-30T15:08:23+08:00","author":{"@type":"Person","name":"Xian Zhan Yang"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://liftctrl.github.io/posts/2025-11-30-how-to-set-up-v2raya/"},"publisher":{"@type":"Organization","name":"LiftCtrl","logo":{"@type":"ImageObject","url":"https://liftctrl.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://liftctrl.github.io/ accesskey=h title="LiftCtrl (Alt + H)">LiftCtrl</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://liftctrl.github.io/ title=Home><span>Home</span></a></li><li><a href=https://liftctrl.github.io/posts/ title=Posts><span>Posts</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">How to Set Up v2rayA</h1><div class=post-meta><span title='2025-11-30 15:08:23 +0800 +0800'>November 30, 2025</span>&nbsp;Â·&nbsp;<span>3 min</span>&nbsp;Â·&nbsp;<span>Xian Zhan Yang</span></div></header><div class=post-content><p>This guide explains how to deploy <strong>v2rayA + Docker + Docker Compose</strong> for managing v2ray proxies, offering a user-friendly web UI to manage and configure your v2ray server. This setup is ideal for users looking for an easy and efficient way to deploy v2ray servers with Docker, ensuring a scalable and maintainable environment using Docker Compose.</p><hr><h2 id=1-preparation>1. Preparation<a hidden class=anchor aria-hidden=true href=#1-preparation>#</a></h2><h3 id=11-docker>1.1 Docker<a hidden class=anchor aria-hidden=true href=#11-docker>#</a></h3><p>Install Docker:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo pacman -S docker
</span></span></code></pre></div><p>Add your user to the Docker group:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo usermod -aG docker <span style=color:#66d9ef>$(</span>whoami<span style=color:#66d9ef>)</span>
</span></span></code></pre></div><p>Create Docker config directory:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo mkdir -p /etc/docker
</span></span></code></pre></div><p>Create <code>/etc/docker/daemon.json</code> to use a registry mirror:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat <span style=color:#e6db74>&lt;&lt;EOF | sudo tee /etc/docker/daemon.json &gt; /dev/null
</span></span></span><span style=display:flex><span><span style=color:#e6db74>{
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;registry-mirrors&#34;: [
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        &#34;https://dockerproxy.net&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    ]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>EOF</span>
</span></span></code></pre></div><p>Enable and start Docker:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo systemctl daemon-reload
</span></span><span style=display:flex><span>sudo systemctl enable --now docker
</span></span></code></pre></div><p>Verify Docker:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker ps
</span></span></code></pre></div><blockquote><p>ðŸ’¡ Tip : Adding your user to the Docker group avoids using <code>sudo</code> every time.
ðŸ’¡ Tip : Use registry mirrors to speed up image downloads.</p></blockquote><h3 id=12-docker-compose>1.2 Docker Compose<a hidden class=anchor aria-hidden=true href=#12-docker-compose>#</a></h3><p>Install Docker Compose:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo pacman -S docker-compose
</span></span></code></pre></div><p>Verify installation:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker-compose --version
</span></span></code></pre></div><blockquote><p>ðŸ’¡ Tip : Docker Compose helps manage multi-container applications easily.</p></blockquote><hr><h2 id=2-v2raya>2. v2rayA<a hidden class=anchor aria-hidden=true href=#2-v2raya>#</a></h2><h3 id=21-prepare-directories>2.1 Prepare Directories<a hidden class=anchor aria-hidden=true href=#21-prepare-directories>#</a></h3><p>Create project directories:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mkdir -p software/v2raya/data
</span></span></code></pre></div><p>Create the Docker Compose file:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>nvim software/v2raya/docker-compose.yml
</span></span></code></pre></div><h3 id=22-docker-compose-configuration>2.2 Docker Compose Configuration<a hidden class=anchor aria-hidden=true href=#22-docker-compose-configuration>#</a></h3><p>Example <code>docker-compose.yml</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>services</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>v2raya</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>image</span>: <span style=color:#ae81ff>mzz2017/v2raya:v2.2.5.8</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>restart</span>: <span style=color:#ae81ff>always</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>privileged</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>network_mode</span>: <span style=color:#ae81ff>host</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>container_name</span>: <span style=color:#ae81ff>v2raya</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>environment</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>V2RAYA_LOG_FILE</span>: <span style=color:#ae81ff>/tmp/v2raya.log</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>V2RAYA_V2RAY_BIN</span>: <span style=color:#ae81ff>/usr/local/bin/xray</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>V2RAYA_NFTABLES_SUPPORT</span>: <span style=color:#66d9ef>off</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>IPTABLES_MODE</span>: <span style=color:#ae81ff>legacy</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>volumes</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>/lib/modules:/lib/modules:ro</span>
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>/etc/resolv.conf:/etc/resolv.conf</span>
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>$PWD/data:/etc/v2raya</span>
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>/etc/timezone:/etc/timezone:ro</span>
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>/etc/localtime:/etc/localtime:ro</span>
</span></span></code></pre></div><h3 id=23-start-the-container>2.3 Start the Container<a hidden class=anchor aria-hidden=true href=#23-start-the-container>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd software/v2raya
</span></span><span style=display:flex><span>docker-compose up -d
</span></span></code></pre></div><p>Verify:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker ps | grep v2raya
</span></span></code></pre></div><blockquote><p>ðŸ’¡ Tip : Ensure <code>$PWD/data</code> path matches your Docker Compose setup.
ðŸ’¡ Tip : Use <code>docker logs v2raya</code> to check container status if issues occur.</p></blockquote><hr><h2 id=3-v2raya-web-ui-configuration>3. v2rayA Web UI Configuration<a hidden class=anchor aria-hidden=true href=#3-v2raya-web-ui-configuration>#</a></h2><p>Access v2rayA Web UI:</p><ul><li>Open your browser and go to: <code>http://localhost:2017</code></li></ul><h3 id=31-modify-settings>3.1 Modify Settings<a hidden class=anchor aria-hidden=true href=#31-modify-settings>#</a></h3><ul><li>Go to <strong>Settings</strong> â†’ <strong>GFWList</strong></li><li>Change from <code>off</code> to <code>on (Proxy only GFWList)</code></li></ul><blockquote><p>ðŸ’¡ Tip : This ensures only traffic to blocked sites is proxied.</p></blockquote><h3 id=32-add-a-vless-node>3.2 Add a VLESS Node<a hidden class=anchor aria-hidden=true href=#32-add-a-vless-node>#</a></h3><p>To add a VLESS node corresponding to your v2ray server:</p><ol><li>Click <strong>Create</strong> â†’ <strong>VLESS</strong></li><li>Fill in the details from your v2ray server:<ul><li><strong>Address</strong>: yourdomain.com</li><li><strong>Port</strong>: 443</li><li><strong>UUID</strong>: <code>your_uuid</code> (generated in server setup)</li><li><strong>Encryption</strong>: environment</li><li><strong>Transport</strong>: WebSocket</li><li><strong>WebSocket Path</strong>: <code>/ws/8f3a7b2c9d</code> (as configured on server)</li><li><strong>TLS</strong>: Enabled</li><li><strong>SNI / Host</strong>: yourdomain.com</li></ul></li><li>Save the node.</li><li>Test the node inside v2rayA to ensure it connects successfully.</li></ol><blockquote><p>ðŸ’¡ Tip : Use a randomized WebSocket path for security and stealth.
ðŸ’¡ Tip : Always verify UUID and path match exactly with the server configuration.</p></blockquote><h3 id=33-configure-browser-proxy-firefox-example>3.3 Configure Browser Proxy (Firefox Example)<a hidden class=anchor aria-hidden=true href=#33-configure-browser-proxy-firefox-example>#</a></h3><ul><li>HTTP Proxy: <code>127.0.0.1:20171</code></li><li>SOCKS5 Proxy: <code>127.0.0.1:20170</code></li></ul><blockquote><p>ðŸ’¡ Tip : Make sure the browser is using the correct proxy to route traffic through v2rayA.</p></blockquote><hr><h2 id=4-security-and-optimization-tips>4. Security and Optimization Tips<a hidden class=anchor aria-hidden=true href=#4-security-and-optimization-tips>#</a></h2><ul><li>Always use strong passwords and secure the Docker socket if exposing remotely.</li><li>Keep Docker and v2rayA up to date:</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo pacman -Syu
</span></span></code></pre></div><ul><li>Limit container privileges if not using <code>privileged: true</code>.</li><li>Regularly back up your v2rayA <code>data</code> directory.</li></ul><hr><h2 id=5-backup--rollback>5. Backup & Rollback<a hidden class=anchor aria-hidden=true href=#5-backup--rollback>#</a></h2><h3 id=51-backup-important-configurations>5.1 Backup Important Configurations<a hidden class=anchor aria-hidden=true href=#51-backup-important-configurations>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo mkdir -p /root/backup/v2raya
</span></span><span style=display:flex><span>sudo cp -r software/v2raya/data /root/backup/v2raya/data.bak
</span></span></code></pre></div><h3 id=52-restore-from-backup>5.2 Restore from Backup<a hidden class=anchor aria-hidden=true href=#52-restore-from-backup>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo rm -rf software/v2raya/data
</span></span><span style=display:flex><span>sudo cp -r /root/backup/v2raya/data.bak software/v2raya/data
</span></span><span style=display:flex><span>docker-compose restart
</span></span></code></pre></div><blockquote><p>ðŸ’¡ Tip : Always stop containers before restoring backup.
ðŸ’¡ Tip : Keep multiple backup versions for safety.</p></blockquote><hr><h2 id=6-troubleshooting>6. Troubleshooting<a hidden class=anchor aria-hidden=true href=#6-troubleshooting>#</a></h2><h3 id=61-container-not-starting>6.1 Container Not Starting<a hidden class=anchor aria-hidden=true href=#61-container-not-starting>#</a></h3><p>Check container logs:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker logs v2raya
</span></span></code></pre></div><p>Common causes:</p><ul><li>Volume path errors.</li><li>Docker network issues.</li><li>Image not pulled correctly.</li></ul><h3 id=62-docker-compose-issues>6.2 Docker Compose Issues<a hidden class=anchor aria-hidden=true href=#62-docker-compose-issues>#</a></h3><p>Check Docker Compose syntax:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker-compose config
</span></span></code></pre></div><p>Fix errors and restart:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker-compose down
</span></span><span style=display:flex><span>docker-compose up -d
</span></span></code></pre></div><h3 id=63-web-ui-connection-fails>6.3 Web UI Connection Fails<a hidden class=anchor aria-hidden=true href=#63-web-ui-connection-fails>#</a></h3><ul><li>Ensure the container is running (<code>docker ps</code>).</li><li>Verify <code>localhost:2017</code> is accessible.</li><li>Confirm nodes are correctly configured in Web UI.</li><li>Check browser proxy settings (HTTP: 20171, SOCKS5: 20170).</li></ul><blockquote><p>ðŸ’¡ Tip : Use <code>docker logs v2raya</code> to debug any connection issues in real time.</p></blockquote><hr></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=next href=https://liftctrl.github.io/posts/2025-10-10-how-to-set-up-hugo-blog/><span class=title>Next Â»</span><br><span>How to Set Up Hugo Blog</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://liftctrl.github.io/>LiftCtrl</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>