<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>How to Set Up Arch Linux | LiftCtrl</title><meta name=keywords content><meta name=description content="This guide explains how to install Arch Linux step by step, suitable for users who want a clean, minimal, and fully configured system.

1. Preparation
1.1 Installation USB
Write Arch Linux ISO to a USB drive:
sudo dd if=archlinux-2025.iso of=/dev/sdX bs=4M status=progress oflag=sync
sync

üí° Tips:

if ‚Üí input ISO file
of ‚Üí target USB device (e.g., /dev/sdb)
bs=4M ‚Üí block size
status=progress ‚Üí show progress
oflag=sync ‚Üí ensure all data is written



‚ö†Ô∏è Note: Double-check of=/dev/sdX. Wrong device = data loss."><meta name=author content="Xian Zhan Yang"><link rel=canonical href=https://liftctrl.github.io/posts/2025-12-07-how-to-set-up-arch-linux/><link crossorigin=anonymous href=/assets/css/stylesheet.5695715c022bbb5d41ba4755a440a0cabb52ac3d3747a403e9e827e64777d9a2.css integrity="sha256-VpVxXAIru11BukdVpECgyrtSrD03R6QD6egn5kd32aI=" rel="preload stylesheet" as=style><link rel=icon href=https://liftctrl.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://liftctrl.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://liftctrl.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://liftctrl.github.io/apple-touch-icon.png><link rel=mask-icon href=https://liftctrl.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://liftctrl.github.io/posts/2025-12-07-how-to-set-up-arch-linux/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://liftctrl.github.io/posts/2025-12-07-how-to-set-up-arch-linux/"><meta property="og:site_name" content="LiftCtrl"><meta property="og:title" content="How to Set Up Arch Linux"><meta property="og:description" content="This guide explains how to install Arch Linux step by step, suitable for users who want a clean, minimal, and fully configured system.
1. Preparation 1.1 Installation USB Write Arch Linux ISO to a USB drive:
sudo dd if=archlinux-2025.iso of=/dev/sdX bs=4M status=progress oflag=sync sync üí° Tips:
if ‚Üí input ISO file of ‚Üí target USB device (e.g., /dev/sdb) bs=4M ‚Üí block size status=progress ‚Üí show progress oflag=sync ‚Üí ensure all data is written ‚ö†Ô∏è Note: Double-check of=/dev/sdX. Wrong device = data loss."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-12-07T14:01:41+08:00"><meta property="article:modified_time" content="2025-12-07T14:01:41+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="How to Set Up Arch Linux"><meta name=twitter:description content="This guide explains how to install Arch Linux step by step, suitable for users who want a clean, minimal, and fully configured system.

1. Preparation
1.1 Installation USB
Write Arch Linux ISO to a USB drive:
sudo dd if=archlinux-2025.iso of=/dev/sdX bs=4M status=progress oflag=sync
sync

üí° Tips:

if ‚Üí input ISO file
of ‚Üí target USB device (e.g., /dev/sdb)
bs=4M ‚Üí block size
status=progress ‚Üí show progress
oflag=sync ‚Üí ensure all data is written



‚ö†Ô∏è Note: Double-check of=/dev/sdX. Wrong device = data loss."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://liftctrl.github.io/posts/"},{"@type":"ListItem","position":2,"name":"How to Set Up Arch Linux","item":"https://liftctrl.github.io/posts/2025-12-07-how-to-set-up-arch-linux/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"How to Set Up Arch Linux","name":"How to Set Up Arch Linux","description":"This guide explains how to install Arch Linux step by step, suitable for users who want a clean, minimal, and fully configured system.\n1. Preparation 1.1 Installation USB Write Arch Linux ISO to a USB drive:\nsudo dd if=archlinux-2025.iso of=/dev/sdX bs=4M status=progress oflag=sync sync üí° Tips:\nif ‚Üí input ISO file of ‚Üí target USB device (e.g., /dev/sdb) bs=4M ‚Üí block size status=progress ‚Üí show progress oflag=sync ‚Üí ensure all data is written ‚ö†Ô∏è Note: Double-check of=/dev/sdX. Wrong device = data loss.\n","keywords":[],"articleBody":"This guide explains how to install Arch Linux step by step, suitable for users who want a clean, minimal, and fully configured system.\n1. Preparation 1.1 Installation USB Write Arch Linux ISO to a USB drive:\nsudo dd if=archlinux-2025.iso of=/dev/sdX bs=4M status=progress oflag=sync sync üí° Tips:\nif ‚Üí input ISO file of ‚Üí target USB device (e.g., /dev/sdb) bs=4M ‚Üí block size status=progress ‚Üí show progress oflag=sync ‚Üí ensure all data is written ‚ö†Ô∏è Note: Double-check of=/dev/sdX. Wrong device = data loss.\n1.2 Networking Wired: plug in the Ethernet cable; DHCP should work automatically. Wireless (live environment): iwctl station wlan0 connect yourssid ping archlinux.org üí° Tips: Ensure the network works before continuing.\n1.3 Disk Partitioning Partition the disk using fdisk (GPT):\nsudo fdisk /dev/nvme0n1 Inside fdisk:\ng ‚Üí create GPT partition table Create EFI partition (~512MB) Create Root partition (remaining space) w ‚Üí write changes üí° Tips: After partitioning, verify:\nsudo fdisk -l /dev/nvme0n1 2. Filesystem \u0026 Mount Module Format partitions:\nmkfs.fat -F32 /dev/nvme0n1p1 mkfs.ext4 /dev/nvme0n1p2 Mount partitions:\nmount /dev/nvme0n1p2 /mnt mkdir /mnt/boot mount /dev/nvme0n1p1 /mnt/boot üí° Tips: EFI partition must be mounted at /boot.\n3. Mirror Optimization Module Optimize mirrors for faster downloads:\nreflector -c China -l 5 -f 5 --sort rate --save /etc/pacman.d/mirrorlist üí° Tips: Use the fastest mirrors to speed up installation and updates.\n4. Base System Module Install base packages:\npacstrap /mnt base base-devel linux linux-firmware vim sudo Optional packages:\npacstrap /mnt wpa_supplicant # for wireless pacstrap /mnt grub efibootmgr # for bootloader Generate fstab:\ngenfstab -U /mnt \u003e\u003e /mnt/etc/fstab üí° Tips: fstab is essential for mounting partitions.\n5. System Configuration Module Enter the new system:\narch-chroot /mnt 5.1 Timezone ln -sf /usr/share/zoneinfo/Asia/Taipei /etc/localtime hwclock --systohc 5.2 Localization Edit /etc/locale.gen and uncomment:\nen_US.UTF-8 UTF-8 zh_CN.UTF-8 UTF-8 Generate locales:\nlocale-gen echo \"LANG=en_US.UTF-8\" \u003e /etc/locale.conf 5.3 Hostname \u0026 Hosts echo arch \u003e /etc/hostname cat \u003c /etc/hosts 127.0.0.1 localhost ::1 localhost 127.0.1.1 arch.localdomain arch EOF 5.4 Root \u0026 User passwd # set root password useradd -m -G wheel -s /bin/bash yourname passwd yourname Enable sudo for wheel group:\nvisudo # uncomment: %wheel ALL=(ALL) ALL üí° Tips: Avoid using root for daily operations.\n6. Bootloader Module Install GRUB for UEFI:\ngrub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=GRUB grub-mkconfig -o /boot/grub/grub.cfg Exit and unmount:\nexit umount -R /mnt reboot üí° Tips: EFI partition must be mounted at /boot.\n7. Network Module 7.1 Wireless sudo wpa_passphrase \"yourssid\" \"yourpassword\" | sudo tee /etc/wpa_supplicant/wpa_supplicant-wlp2s0.conf sudo systemctl enable --now wpa_supplicant@wlp2s0.service sudo systemctl enable --now systemd-networkd 7.2 Wired Create /etc/systemd/network/20-dhcp.network:\n[Match] Name=* [Network] DHCP=yes LinkLocalAddressing=no IPv6AcceptRA=no Enable:\nsudo systemctl enable --now systemd-networkd 7.3 DNS sudo systemctl enable --now systemd-resolved sudo ln -sf /run/systemd/resolve/stub-resolv.conf /etc/resolv.conf resolvectl status üí° Tips: Make sure resolv.conf points to systemd-resolved.\n8. Backup \u0026 Rollback 8.1 Backup sudo mkdir -p /root/backup sudo cp /etc/fstab /root/backup/fstab.bak sudo cp -r /etc/systemd/network /root/backup/network-config/ sudo cp /etc/hostname /root/backup/hostname.bak sudo cp /etc/locale.conf /root/backup/locale.bak 8.2 Restore sudo cp /root/backup/fstab.bak /etc/fstab sudo cp /root/backup/hostname.bak /etc/hostname sudo cp -r /root/backup/network-config/* /etc/systemd/network/ sudo systemctl restart systemd-networkd üí° Tips: Backup before modifying critical configurations.\n9. Troubleshooting 9.1 Network Issues sudo systemctl status systemd-networkd sudo systemctl status wpa_supplicant@wlp2s0.service resolvectl status 9.2 GRUB Boot Failure Check EFI partition is mounted at /boot Verify GRUB installation: ls /boot/EFI/GRUB 9.3 fstab Issues Test mount: sudo mount -a Check UUIDs with blkid 9.4 Wireless Failure Verify wpa_supplicant config Check logs: journalctl -xe üí° Tips: Network setup must be configured correctly after first boot.\n","wordCount":"563","inLanguage":"en","datePublished":"2025-12-07T14:01:41+08:00","dateModified":"2025-12-07T14:01:41+08:00","author":{"@type":"Person","name":"Xian Zhan Yang"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://liftctrl.github.io/posts/2025-12-07-how-to-set-up-arch-linux/"},"publisher":{"@type":"Organization","name":"LiftCtrl","logo":{"@type":"ImageObject","url":"https://liftctrl.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://liftctrl.github.io/ accesskey=h title="LiftCtrl (Alt + H)">LiftCtrl</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://liftctrl.github.io/ title=Home><span>Home</span></a></li><li><a href=https://liftctrl.github.io/posts/ title=Posts><span>Posts</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">How to Set Up Arch Linux</h1><div class=post-meta><span title='2025-12-07 14:01:41 +0800 +0800'>December 7, 2025</span>&nbsp;¬∑&nbsp;<span>3 min</span>&nbsp;¬∑&nbsp;<span>Xian Zhan Yang</span></div></header><div class=post-content><p>This guide explains how to install Arch Linux step by step, suitable for users who want a clean, minimal, and fully configured system.</p><hr><h2 id=1-preparation>1. Preparation<a hidden class=anchor aria-hidden=true href=#1-preparation>#</a></h2><h3 id=11-installation-usb>1.1 Installation USB<a hidden class=anchor aria-hidden=true href=#11-installation-usb>#</a></h3><p>Write Arch Linux ISO to a USB drive:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo dd <span style=color:#66d9ef>if</span><span style=color:#f92672>=</span>archlinux-2025.iso of<span style=color:#f92672>=</span>/dev/sdX bs<span style=color:#f92672>=</span>4M status<span style=color:#f92672>=</span>progress oflag<span style=color:#f92672>=</span>sync
</span></span><span style=display:flex><span>sync
</span></span></code></pre></div><blockquote><p>üí° Tips:</p><ul><li><code>if</code> ‚Üí input ISO file</li><li><code>of</code> ‚Üí target USB device (e.g., <code>/dev/sdb</code>)</li><li><code>bs=4M</code> ‚Üí block size</li><li><code>status=progress</code> ‚Üí show progress</li><li><code>oflag=sync</code> ‚Üí ensure all data is written</li></ul></blockquote><blockquote><p>‚ö†Ô∏è Note: Double-check <code>of=/dev/sdX</code>. Wrong device = data loss.</p></blockquote><h3 id=12-networking>1.2 Networking<a hidden class=anchor aria-hidden=true href=#12-networking>#</a></h3><ul><li><strong>Wired</strong>: plug in the Ethernet cable; DHCP should work automatically.</li><li><strong>Wireless</strong> (live environment):</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>iwctl
</span></span><span style=display:flex><span>station wlan0 connect yourssid
</span></span><span style=display:flex><span>ping archlinux.org
</span></span></code></pre></div><blockquote><p>üí° Tips: Ensure the network works before continuing.</p></blockquote><h3 id=13-disk-partitioning>1.3 Disk Partitioning<a hidden class=anchor aria-hidden=true href=#13-disk-partitioning>#</a></h3><p>Partition the disk using <code>fdisk</code> (GPT):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo fdisk /dev/nvme0n1
</span></span></code></pre></div><p>Inside <code>fdisk</code>:</p><ul><li><code>g</code> ‚Üí create GPT partition table</li><li>Create EFI partition (~512MB)</li><li>Create Root partition (remaining space)</li><li><code>w</code> ‚Üí write changes</li></ul><blockquote><p>üí° Tips: After partitioning, verify:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo fdisk -l /dev/nvme0n1
</span></span></code></pre></div></blockquote><hr><h2 id=2-filesystem--mount-module>2. Filesystem & Mount Module<a hidden class=anchor aria-hidden=true href=#2-filesystem--mount-module>#</a></h2><p>Format partitions:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mkfs.fat -F32 /dev/nvme0n1p1
</span></span><span style=display:flex><span>mkfs.ext4 /dev/nvme0n1p2
</span></span></code></pre></div><p>Mount partitions:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mount /dev/nvme0n1p2 /mnt
</span></span><span style=display:flex><span>mkdir /mnt/boot
</span></span><span style=display:flex><span>mount /dev/nvme0n1p1 /mnt/boot
</span></span></code></pre></div><blockquote><p>üí° Tips: EFI partition must be mounted at <code>/boot</code>.</p></blockquote><hr><h2 id=3-mirror-optimization-module>3. Mirror Optimization Module<a hidden class=anchor aria-hidden=true href=#3-mirror-optimization-module>#</a></h2><p>Optimize mirrors for faster downloads:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>reflector -c China -l <span style=color:#ae81ff>5</span> -f <span style=color:#ae81ff>5</span> --sort rate --save /etc/pacman.d/mirrorlist
</span></span></code></pre></div><blockquote><p>üí° Tips: Use the fastest mirrors to speed up installation and updates.</p></blockquote><hr><h2 id=4-base-system-module>4. Base System Module<a hidden class=anchor aria-hidden=true href=#4-base-system-module>#</a></h2><p>Install base packages:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pacstrap /mnt base base-devel linux linux-firmware vim sudo
</span></span></code></pre></div><p>Optional packages:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pacstrap /mnt wpa_supplicant  <span style=color:#75715e># for wireless</span>
</span></span><span style=display:flex><span>pacstrap /mnt grub efibootmgr  <span style=color:#75715e># for bootloader</span>
</span></span></code></pre></div><p>Generate fstab:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>genfstab -U /mnt &gt;&gt; /mnt/etc/fstab
</span></span></code></pre></div><blockquote><p>üí° Tips: fstab is essential for mounting partitions.</p></blockquote><hr><h2 id=5-system-configuration-module>5. System Configuration Module<a hidden class=anchor aria-hidden=true href=#5-system-configuration-module>#</a></h2><p>Enter the new system:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>arch-chroot /mnt
</span></span></code></pre></div><h3 id=51-timezone>5.1 Timezone<a hidden class=anchor aria-hidden=true href=#51-timezone>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ln -sf /usr/share/zoneinfo/Asia/Taipei /etc/localtime
</span></span><span style=display:flex><span>hwclock --systohc
</span></span></code></pre></div><h3 id=52-localization>5.2 Localization<a hidden class=anchor aria-hidden=true href=#52-localization>#</a></h3><p>Edit <code>/etc/locale.gen</code> and uncomment:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>en_US.UTF-8 UTF-8
</span></span><span style=display:flex><span>zh_CN.UTF-8 UTF-8
</span></span></code></pre></div><p>Generate locales:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>locale-gen
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;LANG=en_US.UTF-8&#34;</span> &gt; /etc/locale.conf
</span></span></code></pre></div><h3 id=53-hostname--hosts>5.3 Hostname & Hosts<a hidden class=anchor aria-hidden=true href=#53-hostname--hosts>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>echo arch &gt; /etc/hostname
</span></span><span style=display:flex><span>cat <span style=color:#e6db74>&lt;&lt;EOF &gt; /etc/hosts
</span></span></span><span style=display:flex><span><span style=color:#e6db74>127.0.0.1   localhost
</span></span></span><span style=display:flex><span><span style=color:#e6db74>::1         localhost
</span></span></span><span style=display:flex><span><span style=color:#e6db74>127.0.1.1   arch.localdomain arch
</span></span></span><span style=display:flex><span><span style=color:#e6db74>EOF</span>
</span></span></code></pre></div><h3 id=54-root--user>5.4 Root & User<a hidden class=anchor aria-hidden=true href=#54-root--user>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>passwd  <span style=color:#75715e># set root password</span>
</span></span><span style=display:flex><span>useradd -m -G wheel -s /bin/bash yourname
</span></span><span style=display:flex><span>passwd yourname
</span></span></code></pre></div><p>Enable sudo for wheel group:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>visudo
</span></span><span style=display:flex><span><span style=color:#75715e># uncomment: %wheel ALL=(ALL) ALL</span>
</span></span></code></pre></div><blockquote><p>üí° Tips: Avoid using root for daily operations.</p></blockquote><hr><h2 id=6-bootloader-module>6. Bootloader Module<a hidden class=anchor aria-hidden=true href=#6-bootloader-module>#</a></h2><p>Install GRUB for UEFI:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>grub-install --target<span style=color:#f92672>=</span>x86_64-efi --efi-directory<span style=color:#f92672>=</span>/boot --bootloader-id<span style=color:#f92672>=</span>GRUB
</span></span><span style=display:flex><span>grub-mkconfig -o /boot/grub/grub.cfg
</span></span></code></pre></div><p>Exit and unmount:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>exit
</span></span><span style=display:flex><span>umount -R /mnt
</span></span><span style=display:flex><span>reboot
</span></span></code></pre></div><blockquote><p>üí° Tips: EFI partition must be mounted at <code>/boot</code>.</p></blockquote><hr><h2 id=7-network-module>7. Network Module<a hidden class=anchor aria-hidden=true href=#7-network-module>#</a></h2><h3 id=71-wireless>7.1 Wireless<a hidden class=anchor aria-hidden=true href=#71-wireless>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo wpa_passphrase <span style=color:#e6db74>&#34;yourssid&#34;</span> <span style=color:#e6db74>&#34;yourpassword&#34;</span> | sudo tee /etc/wpa_supplicant/wpa_supplicant-wlp2s0.conf
</span></span><span style=display:flex><span>sudo systemctl enable --now wpa_supplicant@wlp2s0.service
</span></span><span style=display:flex><span>sudo systemctl enable --now systemd-networkd
</span></span></code></pre></div><h3 id=72-wired>7.2 Wired<a hidden class=anchor aria-hidden=true href=#72-wired>#</a></h3><p>Create <code>/etc/systemd/network/20-dhcp.network</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#66d9ef>[Match]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Name</span><span style=color:#f92672>=</span><span style=color:#e6db74>*</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>[Network]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>DHCP</span><span style=color:#f92672>=</span><span style=color:#e6db74>yes</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>LinkLocalAddressing</span><span style=color:#f92672>=</span><span style=color:#e6db74>no</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>IPv6AcceptRA</span><span style=color:#f92672>=</span><span style=color:#e6db74>no</span>
</span></span></code></pre></div><p>Enable:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo systemctl enable --now systemd-networkd
</span></span></code></pre></div><h3 id=73-dns>7.3 DNS<a hidden class=anchor aria-hidden=true href=#73-dns>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo systemctl enable --now systemd-resolved
</span></span><span style=display:flex><span>sudo ln -sf /run/systemd/resolve/stub-resolv.conf /etc/resolv.conf
</span></span><span style=display:flex><span>resolvectl status
</span></span></code></pre></div><blockquote><p>üí° Tips: Make sure resolv.conf points to systemd-resolved.</p></blockquote><hr><h2 id=8-backup--rollback>8. Backup & Rollback<a hidden class=anchor aria-hidden=true href=#8-backup--rollback>#</a></h2><h3 id=81-backup>8.1 Backup<a hidden class=anchor aria-hidden=true href=#81-backup>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo mkdir -p /root/backup
</span></span><span style=display:flex><span>sudo cp /etc/fstab /root/backup/fstab.bak
</span></span><span style=display:flex><span>sudo cp -r /etc/systemd/network /root/backup/network-config/
</span></span><span style=display:flex><span>sudo cp /etc/hostname /root/backup/hostname.bak
</span></span><span style=display:flex><span>sudo cp /etc/locale.conf /root/backup/locale.bak
</span></span></code></pre></div><h3 id=82-restore>8.2 Restore<a hidden class=anchor aria-hidden=true href=#82-restore>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo cp /root/backup/fstab.bak /etc/fstab
</span></span><span style=display:flex><span>sudo cp /root/backup/hostname.bak /etc/hostname
</span></span><span style=display:flex><span>sudo cp -r /root/backup/network-config/* /etc/systemd/network/
</span></span><span style=display:flex><span>sudo systemctl restart systemd-networkd
</span></span></code></pre></div><blockquote><p>üí° Tips: Backup before modifying critical configurations.</p></blockquote><hr><h2 id=9-troubleshooting>9. Troubleshooting<a hidden class=anchor aria-hidden=true href=#9-troubleshooting>#</a></h2><h3 id=91-network-issues>9.1 Network Issues<a hidden class=anchor aria-hidden=true href=#91-network-issues>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo systemctl status systemd-networkd
</span></span><span style=display:flex><span>sudo systemctl status wpa_supplicant@wlp2s0.service
</span></span><span style=display:flex><span>resolvectl status
</span></span></code></pre></div><h3 id=92-grub-boot-failure>9.2 GRUB Boot Failure<a hidden class=anchor aria-hidden=true href=#92-grub-boot-failure>#</a></h3><ul><li>Check EFI partition is mounted at <code>/boot</code></li><li>Verify GRUB installation:</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ls /boot/EFI/GRUB
</span></span></code></pre></div><h3 id=93-fstab-issues>9.3 fstab Issues<a hidden class=anchor aria-hidden=true href=#93-fstab-issues>#</a></h3><ul><li>Test mount:</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo mount -a
</span></span></code></pre></div><ul><li>Check UUIDs with blkid</li></ul><h3 id=94-wireless-failure>9.4 Wireless Failure<a hidden class=anchor aria-hidden=true href=#94-wireless-failure>#</a></h3><ul><li>Verify wpa_supplicant config</li><li>Check logs:</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>journalctl -xe
</span></span></code></pre></div><blockquote><p>üí° Tips: Network setup must be configured correctly after first boot.</p></blockquote><hr></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=next href=https://liftctrl.github.io/posts/2025-11-30-how-to-set-up-v2raya/><span class=title>Next ¬ª</span><br><span>How to Set Up v2rayA</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://liftctrl.github.io/>LiftCtrl</a></span> ¬∑
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>